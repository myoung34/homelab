esphome:
  name: plaato-airlock
  libraries:
    - "Wire"
  includes:
    - plaatoairlock.h
    - pct2075.h
    - plaato_stm8.h

esp8266:
  board: nodemcuv2

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  domain: !secret wifi_domain

logger:


web_server:
  port: 80

api:
  encryption:
    key: !secret plaato_airlock_key

ota:
- platform: esphome
  password: !secret ota_password

i2c:
  sda: GPIO14
  scl: GPIO12
  scan: false
  frequency: 100kHz
  id: bus_a

sensor:
  - platform: custom
    lambda: |-
      auto airlock = new PlaatoAirlock();
      App.register_component(airlock);
      return {airlock->bubble_esp_sensor,airlock->temperature_esp_sensor};
    sensors:
      - name: airlock
      - name: temperature

status_led:
    pin: GPIO2
